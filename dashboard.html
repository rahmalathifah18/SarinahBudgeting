<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - Sarinah Budgeting</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; }
    header { background:#c8102e; color:white; padding:15px; text-align:center; }
    nav { background:#333; padding:10px; }
    nav a { color:white; margin:0 10px; text-decoration:none; }
    .container { padding:20px; }
    table { width:100%; border-collapse: collapse; margin-top:20px; }
    th, td { border:1px solid #ddd; padding:10px; text-align:left; }
    th { background:#f4f4f4; }
  </style>
</head>
<body>
  <header>
    <h1>Sarinah Budgeting Dashboard</h1>
  </header>

  <nav>
    <a href="dashboard.html">Dashboard</a>
    <a href="index.html" onclick="logout()">Logout</a>
  </nav>

  <div class="container">
    <h2>Welcome, <span id="role"></span></h2>
    <p id="desc"></p>

    <table id="proposalTable">
      <thead>
        <tr>
          <th>Proposal ID</th>
          <th>Program Name</th>
          <th>PIC</th>
          <th>Amount</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>PROP-001</td><td>Q4 Marketing Campaign</td><td>Andi B.</td><td>Rp 75.000.000</td><td>Approved</td></tr>
        <tr><td>PROP-002</td><td>New Office Laptops</td><td>Citra D.</td><td>Rp 120.000.000</td><td>Pending</td></tr>
        <tr><td>PROP-003</td><td>Monthly Office Supplies</td><td>Budi S.</td><td>Rp 5.000.000</td><td>Approved</td></tr>
      </tbody>
    </table>
  </div>

  <script>
    function logout() {
      localStorage.removeItem("role");
      window.location.href = "index.html";
    }

    window.onload = function() {
      let role = localStorage.getItem("role");
      if (!role) {
        window.location.href = "index.html";
        return;
      }
      document.getElementById("role").innerText = role;

      let desc = "";
      if (role === "User") {
        desc = "You can only view your own proposals.";
      } else if (role === "Reviewer") {
        desc = "You can review all proposals.";
      } else if (role === "Approver") {
        desc = "You can approve/reject proposals above threshold.";
      }
      document.getElementById("desc").innerText = desc;
    }
  </script>
</body>
</html>
